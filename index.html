<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>RIEMON - Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <link href="style.css" rel="stylesheet" />
  <script src="https://cdn.lordicon.com/lordicon.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            "riemon-green": "#16c72e",
            "riemon-green-dark": "#109121",
            "riemon-green-light": "#9cf4a7",
            "riemon-gray": "#f8f9fa",
            "riemon-brown": "#8B7355",
            "riemon-brown-light": "#D2B48C",
          },
        },
      },
    };
  </script>
</head>
<body class="animated-bg min-h-screen transition-colors duration-500">
  
  <!-- Nubes flotantes -->
  <div class="cloud" style="width: 100px; height: 40px; top: 10%; animation-duration: 40s;"></div>
  <div class="cloud" style="width: 80px; height: 35px; top: 20%; animation-duration: 35s; animation-delay: -10s;"></div>
  <div class="cloud" style="width: 120px; height: 45px; top: 15%; animation-duration: 50s; animation-delay: -20s;"></div>

  <!-- Part√≠culas flotantes -->
  <div id="particles-container"></div>

  <!-- Plantas de fondo -->
  <div class="plant-container">
    <!-- √Årboles -->
    <div class="tree tree-sway" style="left: 5%;">
      <svg viewBox="0 0 100 200" xmlns="http://www.w3.org/2000/svg">
        <rect x="45" y="120" width="10" height="80" fill="#6B4423"/>
        <circle cx="50" cy="80" r="40" fill="#16c72e" opacity="0.9"/>
        <circle cx="30" cy="90" r="30" fill="#109121" opacity="0.8"/>
        <circle cx="70" cy="90" r="30" fill="#109121" opacity="0.8"/>
        <circle cx="50" cy="60" r="35" fill="#1ed435" opacity="0.9"/>
      </svg>
    </div>

    <div class="tree tree-sway" style="left: 85%; animation-delay: -2s;">
      <svg viewBox="0 0 100 200" xmlns="http://www.w3.org/2000/svg">
        <rect x="45" y="120" width="10" height="80" fill="#6B4423"/>
        <circle cx="50" cy="80" r="40" fill="#16c72e" opacity="0.9"/>
        <circle cx="30" cy="90" r="30" fill="#109121" opacity="0.8"/>
        <circle cx="70" cy="90" r="30" fill="#109121" opacity="0.8"/>
        <circle cx="50" cy="60" r="35" fill="#1ed435" opacity="0.9"/>
      </svg>
    </div>

    <!-- Plantas -->
    <div class="plant plant-sway" style="left: 15%;">
      <svg viewBox="0 0 80 150" xmlns="http://www.w3.org/2000/svg">
        <path d="M40 150 Q35 120, 30 90 Q25 60, 35 40" stroke="#16c72e" stroke-width="3" fill="none"/>
        <ellipse cx="35" cy="40" rx="15" ry="25" fill="#1ed435" opacity="0.8"/>
        <ellipse cx="25" cy="60" rx="12" ry="20" fill="#16c72e" opacity="0.7"/>
        <ellipse cx="30" cy="90" rx="10" ry="18" fill="#109121" opacity="0.8"/>
      </svg>
    </div>

    <div class="plant plant-sway" style="left: 35%; animation-delay: -1s;">
      <svg viewBox="0 0 80 150" xmlns="http://www.w3.org/2000/svg">
        <path d="M40 150 Q38 120, 35 90 Q32 60, 40 35" stroke="#16c72e" stroke-width="3" fill="none"/>
        <ellipse cx="40" cy="35" rx="18" ry="28" fill="#1ed435" opacity="0.8"/>
        <ellipse cx="30" cy="55" rx="14" ry="22" fill="#16c72e" opacity="0.7"/>
      </svg>
    </div>

    <div class="plant plant-sway" style="left: 60%; animation-delay: -1.5s;">
      <svg viewBox="0 0 80 150" xmlns="http://www.w3.org/2000/svg">
        <path d="M40 150 Q42 120, 45 90 Q48 60, 40 40" stroke="#16c72e" stroke-width="3" fill="none"/>
        <ellipse cx="40" cy="40" rx="16" ry="26" fill="#1ed435" opacity="0.8"/>
        <ellipse cx="48" cy="65" rx="13" ry="21" fill="#16c72e" opacity="0.7"/>
        <ellipse cx="43" cy="95" rx="11" ry="19" fill="#109121" opacity="0.8"/>
      </svg>
    </div>

    <div class="plant plant-sway" style="left: 75%; animation-delay: -0.5s;">
      <svg viewBox="0 0 80 150" xmlns="http://www.w3.org/2000/svg">
        <path d="M40 150 Q37 115, 33 85 Q30 55, 38 30" stroke="#16c72e" stroke-width="3" fill="none"/>
        <ellipse cx="38" cy="30" rx="17" ry="27" fill="#1ed435" opacity="0.8"/>
        <ellipse cx="28" cy="50" rx="13" ry="20" fill="#16c72e" opacity="0.7"/>
      </svg>
    </div>
  </div>

  <!-- Contenedor principal -->
  <div class="content-wrapper container mx-auto py-6 px-4">
    
    <!-- Men√∫ de usuario y modo oscuro -->
    <div class="flex justify-between items-center mb-6 fade-in">
      <!-- Bot√≥n de modo oscuro -->
      <button id="dark-mode-toggle" class="btn-animate bg-white dark:bg-gray-800 rounded-full p-3 shadow-lg hover:shadow-xl transition-all">
        <svg id="sun-icon" class="w-6 h-6 text-yellow-500 dark:hidden" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd" />
        </svg>
        <svg id="moon-icon" class="w-6 h-6 text-gray-300 hidden dark:block" fill="currentColor" viewBox="0 0 20 20">
          <path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z" />
        </svg>
      </button>

      <!-- Men√∫ de usuario -->
      <div class="relative" id="user-menu-container">
        <button id="user-menu-button" class="btn-animate flex items-center gap-3 bg-white dark:bg-gray-800 rounded-full py-3 px-5 shadow-lg hover:shadow-xl">
          <svg class="w-6 h-6 text-riemon-green-dark dark:text-riemon-green-light" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
          </svg>
          <span id="username-display" class="font-semibold text-gray-700 dark:text-gray-200">Cargando...</span>
          <svg class="w-4 h-4 text-gray-500 dark:text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        
        <div id="user-menu-dropdown" class="absolute hidden right-0 mt-2 w-56 bg-white dark:bg-gray-800 rounded-lg shadow-xl z-10 overflow-hidden">
          <a href="cuenta.html" class="block px-4 py-3 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">Mi Cuenta</a>
          <a href="sistemas.html" class="block px-4 py-3 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors">Sistemas Disponibles</a>
          <hr class="border-gray-200 dark:border-gray-700" />
          <a href="#" id="logout-button" class="block px-4 py-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors">Salida</a>
        </div>
      </div>
    </div>

    <!-- T√≠tulo principal -->
    <div class="text-center mb-10 fade-in delay-100">
      <div class="inline-block gradient-bg px-8 py-4 rounded-2xl mb-4 shadow-2xl">
        <h1 class="text-6xl font-bold text-white mb-2 drop-shadow-lg">RIEMON</h1>
        <h3 class="text-xl text-white font-medium">- Riega con Precisi√≥n, Riega con Pasi√≥n -</h3>
      </div>
      <div class="flex items-center justify-center gap-2 mt-4">
        <div class="w-3 h-3 bg-riemon-green rounded-full animate-pulse"></div>
        <p class="text-white dark:text-gray-200 font-medium">
          √öltima actualizaci√≥n: <span id="last-updated" class="font-bold">--:--:--</span>
        </p>
      </div>
    </div>

    <!-- Cards de sensores principales -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
      
      <!-- Humedad del Suelo -->
      <div class="card-hover glow-on-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 fade-in delay-200">
        <div class="flex flex-col items-center text-center">
          <div class="float-animation">
            <lord-icon src="https://cdn.lordicon.com/jtslwgho.json" trigger="loop" delay="1000" colors="primary:#109121,secondary:#9cf4a7" style="width: 80px; height: 80px"></lord-icon>
          </div>
          <h5 class="text-lg font-semibold text-gray-700 dark:text-gray-200 mt-2">Humedad del Suelo</h5>
          <p id="soil-humidity" class="text-5xl font-bold text-blue-600 dark:text-blue-400 my-2">-- %</p>
          <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mt-2">
            <div id="soil-bar" class="bg-blue-600 dark:bg-blue-400 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
          </div>
          <small class="text-gray-500 dark:text-gray-400 mt-2">√ìptimo: 40-70%</small>
        </div>
      </div>

      <!-- Temperatura Ambiente -->
      <div class="card-hover glow-on-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 fade-in delay-300">
        <div class="flex flex-col items-center text-center">
          <div class="float-animation" style="animation-delay: 0.5s">
            <lord-icon src="https://cdn.lordicon.com/kikjlzqr.json" trigger="loop" state="loop-cycle" style="width: 80px; height: 80px"></lord-icon>
          </div>
          <h5 class="text-lg font-semibold text-gray-700 dark:text-gray-200 mt-2">Temp. Ambiente</h5>
          <p id="ambient-temp" class="text-5xl font-bold text-red-500 dark:text-red-400 my-2">-- ¬∞C</p>
          <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mt-2">
            <div id="temp-bar" class="bg-red-500 dark:bg-red-400 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
          </div>
          <small class="text-gray-500 dark:text-gray-400 mt-2">√ìptimo: 18-28¬∞C</small>
        </div>
      </div>

      <!-- Humedad Ambiente -->
      <div class="card-hover glow-on-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 fade-in delay-400">
        <div class="flex flex-col items-center text-center">
          <div class="float-animation" style="animation-delay: 1s">
            <lord-icon src="https://cdn.lordicon.com/btvefodi.json" trigger="hover" style="width: 80px; height: 80px"></lord-icon>
          </div>
          <h5 class="text-lg font-semibold text-gray-700 dark:text-gray-200 mt-2">Humedad Ambiente</h5>
          <p id="ambient-humidity" class="text-5xl font-bold text-cyan-500 dark:text-cyan-400 my-2">-- %</p>
          <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mt-2">
            <div id="humidity-bar" class="bg-cyan-500 dark:bg-cyan-400 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
          </div>
          <small class="text-gray-500 dark:text-gray-400 mt-2">√ìptimo: 50-80%</small>
        </div>
      </div>

      <!-- Luz Solar -->
      <div class="card-hover glow-on-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 fade-in delay-400">
        <div class="flex flex-col items-center text-center">
          <div class="float-animation" style="animation-delay: 1.5s">
            <lord-icon src="https://cdn.lordicon.com/rfncegwc.json" trigger="loop" state="loop-spin" style="width: 80px; height: 80px"></lord-icon>
          </div>
          <h5 class="text-lg font-semibold text-gray-700 dark:text-gray-200 mt-2">Luz Solar (Lux)</h5>
          <p id="sun-light" class="text-5xl font-bold text-yellow-500 dark:text-yellow-400 my-2">--</p>
          <div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 mt-2">
            <div id="light-bar" class="bg-yellow-500 dark:bg-yellow-400 h-2.5 rounded-full transition-all duration-500" style="width: 0%"></div>
          </div>
          <small class="text-gray-500 dark:text-gray-400 mt-2">√ìptimo: 10,000+ lx</small>
        </div>
      </div>
    </div>

    <!-- Estad√≠sticas circulares adicionales -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8 fade-in delay-300">
      
      <div class="card-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 flex flex-col items-center">
        <div class="stat-ring" style="--progress: 75%">
          <div class="relative z-10 text-center">
            <p class="text-3xl font-bold text-riemon-green dark:text-riemon-green-light" id="efficiency">75%</p>
            <p class="text-xs text-gray-500 dark:text-gray-400">Eficiencia</p>
          </div>
        </div>
        <p class="mt-3 text-sm text-gray-600 dark:text-gray-300 font-medium">Sistema √ìptimo</p>
      </div>

      <div class="card-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 flex flex-col items-center">
        <div class="stat-ring" style="--progress: 60%">
          <div class="relative z-10 text-center">
            <p class="text-3xl font-bold text-blue-600 dark:text-blue-400" id="water-saved">120L</p>
            <p class="text-xs text-gray-500 dark:text-gray-400">Ahorrados</p>
          </div>
        </div>
        <p class="mt-3 text-sm text-gray-600 dark:text-gray-300 font-medium">Agua Hoy</p>
      </div>

      <div class="card-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 flex flex-col items-center">
        <div class="stat-ring" style="--progress: 85%">
          <div class="relative z-10 text-center">
            <p class="text-3xl font-bold text-green-600 dark:text-green-400" id="plant-health">85%</p>
            <p class="text-xs text-gray-500 dark:text-gray-400">Salud</p>
          </div>
        </div>
        <p class="mt-3 text-sm text-gray-600 dark:text-gray-300 font-medium">Plantas</p>
      </div>

      <div class="card-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 flex flex-col items-center">
        <div class="stat-ring" style="--progress: 42%">
          <div class="relative z-10 text-center">
            <p class="text-3xl font-bold text-orange-600 dark:text-orange-400" id="co2-saved">3.2kg</p>
            <p class="text-xs text-gray-500 dark:text-gray-400">CO‚ÇÇ</p>
          </div>
        </div>
        <p class="mt-3 text-sm text-gray-600 dark:text-gray-300 font-medium">Reducido</p>
      </div>
    </div>

    <!-- Clima y pron√≥stico -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">
      
      <!-- Pron√≥stico semanal -->
      <div class="card-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 lg:col-span-2 fade-in delay-200">
        <div class="flex items-center justify-between mb-4">
          <h4 class="text-2xl font-bold text-gray-800 dark:text-gray-200 flex items-center gap-2">
            <lord-icon src="https://cdn.lordicon.com/qcvtqfpg.json" trigger="loop" colors="primary:#109121,secondary:#f4b600" style="width: 40px; height: 40px"></lord-icon>
            Pron√≥stico Semanal
          </h4>
          <p id="current-location" class="text-sm text-gray-500 dark:text-gray-400 font-semibold">üìç Cargando...</p>
        </div>
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-3" id="weekly-forecast"></div>
      </div>

      <!-- Clima actual -->
      <div class="card-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 fade-in delay-300">
        <div class="text-center mb-4">
          <lord-icon id="weather-icon-dynamic" src="https://cdn.lordicon.com/qcvtqfpg.json" trigger="loop" delay="2000" colors="primary:#109121,secondary:#f4b600" style="width: 100px; height: 100px"></lord-icon>
        </div>
        <h5 class="text-xl font-bold text-center text-gray-700 dark:text-gray-200 mb-2">Clima Actual</h5>
        <p id="weather-location" class="text-lg font-semibold text-center text-riemon-green-dark dark:text-riemon-green-light mb-2">--</p>
        <p id="weather-temp" class="text-6xl font-bold text-center text-orange-500 dark:text-orange-400 mb-2">--¬∞C</p>
        <p id="weather-desc" class="text-center text-gray-600 dark:text-gray-300 capitalize font-medium">Cargando datos...</p>
      </div>
    </div>

    <!-- Estado de bomba y planta -->
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
      
      <!-- Estado bomba -->
      <div class="card-hover glow-on-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 fade-in delay-400">
        <div class="flex flex-col items-center text-center">
          <lord-icon id="pump-icon" src="https://cdn.lordicon.com/frjgvxbn.json" trigger="loop" delay="1000" colors="primary:#848484,secondary:#e4e4e4" style="width: 100px; height: 100px"></lord-icon>
          <h5 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mt-4">Estado de la Bomba</h5>
          <div class="flex items-center justify-center my-4">
            <div id="pump-status-dot" class="w-5 h-5 rounded-full bg-gray-400 mr-3"></div>
            <p id="pump-status-text" class="text-5xl font-bold text-gray-500 dark:text-gray-400">--</p>
          </div>
          <small class="text-gray-500 dark:text-gray-400 text-base">Encendida / Apagada</small>
        </div>
      </div>

      <!-- Estado planta -->
      <div class="card-hover glow-on-hover bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 fade-in delay-400">
        <div class="flex flex-col items-center text-center">
          <lord-icon id="plant-icon" src="https://cdn.lordicon.com/zldkegty.json" trigger="loop" delay="2500" colors="primary:#16c72e,secondary:#a8e0b0" style="width: 100px; height: 100px"></lord-icon>
          <h5 class="text-xl font-semibold text-gray-700 dark:text-gray-200 mt-4">Estado de la Planta</h5>
          <div class="flex items-center justify-center my-4">
            <div id="plant-status-dot" class="w-5 h-5 rounded-full bg-gray-400 mr-3"></div>
            <p id="plant-status-text" class="text-5xl font-bold text-gray-500 dark:text-gray-400">--</p>
          </div>
          <small class="text-gray-500 dark:text-gray-400 text-base">Saludable / Estresada</small>
        </div>
      </div>
    </div>

    <!-- Panel informativo adicional -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      
      <div class="card-hover bg-gradient-to-br from-blue-500 to-blue-600 dark:from-blue-600 dark:to-blue-700 rounded-xl shadow-lg p-6 text-white fade-in delay-200">
        <div class="flex items-center justify-between mb-4">
          <h5 class="text-lg font-bold">Pr√≥ximo Riego</h5>
          <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
          </svg>
        </div>
        <p class="text-4xl font-bold mb-2">06:00 AM</p>
        <p class="text-sm opacity-90">Ma√±ana, 12 Nov 2025</p>
      </div>

      <div class="card-hover bg-gradient-to-br from-green-500 to-green-600 dark:from-green-600 dark:to-green-700 rounded-xl shadow-lg p-6 text-white fade-in delay-300">
        <div class="flex items-center justify-between mb-4">
          <h5 class="text-lg font-bold">Tiempo de Riego</h5>
          <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" />
          </svg>
        </div>
        <p class="text-4xl font-bold mb-2">15 min</p>
        <p class="text-sm opacity-90">Duraci√≥n programada</p>
      </div>

      <div class="card-hover bg-gradient-to-br from-purple-500 to-purple-600 dark:from-purple-600 dark:to-purple-700 rounded-xl shadow-lg p-6 text-white fade-in delay-400">
        <div class="flex items-center justify-between mb-4">
          <h5 class="text-lg font-bold">Sistemas Activos</h5>
          <svg class="w-8 h-8" fill="currentColor" viewBox="0 0 20 20">
            <path d="M3 12v3c0 1.657 3.134 3 7 3s7-1.343 7-3v-3c0 1.657-3.134 3-7 3s-7-1.343-7-3z" />
            <path d="M3 7v3c0 1.657 3.134 3 7 3s7-1.343 7-3V7c0 1.657-3.134 3-7 3S3 8.657 3 7z" />
            <path d="M17 5c0 1.657-3.134 3-7 3S3 6.657 3 5s3.134-3 7-3 7 1.343 7 3z" />
          </svg>
        </div>
        <p class="text-4xl font-bold mb-2">3 / 3</p>
        <p class="text-sm opacity-90">Todos en l√≠nea</p>
      </div>
    </div>

  </div>

  <script src="script.js"></script>
</body>
</html>